<% include ../partials/header %>
<script type="text/javascript">
    function onSelectChange() {
        var selectedValue = document.getElementById("profilePictureType").value;    
        var urlUpload = selectedValue == "1";
    
        document.getElementById("fileBrowse").disabled = urlUpload;
        document.getElementById("enterUrl").disabled = !urlUpload;     
    }
</script>

<div class="text-center container">
    <div class=" justify-content-center row">
        <form class="w-50 mt-3" action="/campgrounds/<%= campground.slug %>?_method=PUT" method="POST" enctype="multipart/form-data">
                
                <h1 class="h3 mb-3 font-weight-bold">Edit <%= campground.name %></h1>
                <div class="form-group row">
                    <input type="text"  class="form-control" name="name" value="<%= campground.name %>" required autofocus>
                </div>
                <!-- <div class="form-group row">
                    <input type="text" class="form-control" name="campground[image]" value="<%= campground.image %>" required>
                </div> -->
                <div class="form-group row">
                    <select class="form-control custom-select" id="profilePictureType" onchange="onSelectChange()">
                        <option value="1">Upload from URL</option>
                        <option value="2">Upload an Image</option>
                        
                    </select>
                    <input class="form-control" type="url" id="enterUrl"  value="<%= campground.image %>" name ="image" placeholder="Enter in a URL.">
                        <div class="form-control custom-file">
                            <input type="file" name="image" accept="image/*" value="<%= campground.image %>" class="custom-file-input" id="fileBrowse" disabled="disabled" onchange="$(this).next().after().text($(this).val().split('\\').slice(-1)[0])">
                            <label class="text-left custom-file-label" for="fileBrowse">Choose Image</label>
                        </div>
                </div>
    
                <div class="form-group row">
                    <input class="form-control" type="text" name="location" id="location" value="<%= campground.location %>">
                </div>
                <div class="form-group row">
                    <textarea rows="3" class="form-control" name="description"  required><%= campground.description %></textarea>
                </div>
                <div class="form-group row">
                    <input type="number"  class="form-control" name="price" value="<%= campground.price %>" step="0.01" required >
                </div>
                <div class="form-group row">
                    <button class="btn btn-lg btn-primary btn-block" type="submit">Done Editing!</button>
                </div>
        </form>
        
    </div>
    <a href="/campgrounds">Go Back</a>
</div>


<% include ../partials/footer %>





